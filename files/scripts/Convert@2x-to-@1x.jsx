// Icons Sizes/*        APP ICONS        appicon.png                             57x57        appicon@2x.png                       114x114        appicon-Small.png                   29x29        appicon-Small@2x.png            57x57        appicon-Small-50.png                   50x50        appicon-Small-50@2x.png             100x100               appicon-60@2x.png               120x120        appicon-72.png                      72x72        appicon-72@2x.png                144x144         appicon-76.png                      76x76        appicon-76@2x.png                152x152                       Launch Screens        Default.png                     320x480        Default@2x.png               640x960        Default-568h.png            320x568        Default-568h@2x.png      640x1136.png        Default-Landscape.png      1024x768.png         Default-Portrait.png         768x1004.png        768x1024.png                    960x640.png        1536x2048.png                                \                 */function main() {		//var dir = new Folder('/Volumes/hdd/Users/jfoster/Sites_Mobile/Q-Mobile/Resources/images');	//dir.openDlg();	//var dir = Folder.selectDialog("Select a folder to process");		var dir = Folder("~/").selectDlg("PDF folder:");		// scan subfolders for @2x.png	var pngs = scanForPngFiles(dir); 	for (var i = 0; i < pngs.length; i++) {		var png = pngs[i];		resizeAndSave(png);				if (i > 20) {			return;		}	}		alert('complete');		}	function scanForPngFiles(folder) {	var files = [];	var folderFiles = folder.getFiles();		for (var a = 0; a < folderFiles.length; a++) {		var file = folderFiles[a];		if (file instanceof File) {			// file add to files            var fullName = file.fullName;                $.writeln(fullName);			if (file.fullName.toString().indexOf('@2x.png') !== -1) {				files.push(file);			}		} else if (file instanceof Folder) {			// scan for sub folders			files = files.concat(scanForPngFiles(file));		}	}	return files;}function resizeAndSave(pngFile) {	var pct = 50;		var png = open(pngFile);	var pngPath = png.path;	var newName = png.name.replace("@2x.png", ".png");		var startRulerUnits = app.preferences.rulerUnits;	app.preferences.rulerUnits = Units.PIXELS;			var newHeight = png.height * (50 / 100);	var newWidth = png.width * (50 / 100);		png.resizeImage(newWidth,newHeight);	app.preferences.rulerUnits = startRulerUnits;		savePNG(png, pngPath + "/" + newName);	png.close(SaveOptions.DONOTSAVECHANGES);}function savePNG(psd, pathAndName)  {	var	pngOptions = new ExportOptionsSaveForWeb;	pngOptions.PNG8 = false;	pngOptions.transparency = true;	pngOptions.format = SaveDocumentType.PNG;	pngOptions.interlaced = false;	pngOptions.quality = 100;	pngOptions.optimized = true;	psd.exportDocument(new File(pathAndName), ExportType.SAVEFORWEB, pngOptions);}main();