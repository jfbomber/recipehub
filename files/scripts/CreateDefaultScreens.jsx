/*      */var screens = [    { name:'Default.png',   width : 320, height : 480 },    { name:'Default@2x.png',   width : 640, height : 960 },                  { name:'Default-568h.png',   width : 320, height : 568 },               { name:'Default-568h@2x.png',   width :640, height : 1136 },          { name:'Default-Landscape.png',   width : 1024, height : 768 },       { name:'Default-Portrait.png',   width : 768, height : 1004 }];function main() {    var png = app.activeDocument;    if (png.height !== 1200 || png.width !== 1200) {        alert('Your image image must be 1200x1200');        return;    }    var pngPath = null;    if (png.path) {        pngPath = png.path;    } else {        pngPath = "/";    }	    var original  = { x : png.width  / 2.0, y : png.height / 2.0 };    var width = png.width;    var height = png.height;        var center = { x: width / 2, y: height / 2 } ;            var startRulerUnits = app.preferences.rulerUnits;    app.preferences.rulerUnits = Units.PIXELS;        for (var a = 0; a < screens.length; a++) {            var screen = screens[a];            // width percent, height percent            var widthPercent = screen.width / width;            var heightPercent = screen.height / height;                        var cropHeight = screen.height;            var cropWidth = screen.width;                        var cropWidthHalf = Math.round (cropWidth / 2);            var cropHeightHalf = Math.round (cropHeight / 2);                                    var x1 = Math.max(0, center.x - cropWidthHalf);            var y1 = Math.max(0, center.y - cropHeightHalf);            var x2 = Math.min(width, center.x + cropWidthHalf);            var y2 = Math.min(height, center.y + cropHeightHalf);                        png.crop(new Array(x1,y1,x2,y2));            savePNG(png, pngPath + "/" + screen.name);            // undo the state change            png.activeHistoryState = png.historyStates[png.historyStates.length-2];    }	app.preferences.rulerUnits = startRulerUnits;	// png.close(SaveOptions.DONOTSAVECHANGES);}function savePNG(psd, pathAndName)  {	var pngOptions = new ExportOptionsSaveForWeb;	pngOptions.PNG8 = false;	pngOptions.transparency = true;	pngOptions.format = SaveDocumentType.PNG;	pngOptions.interlaced = false;	pngOptions.quality = 100;	pngOptions.optimized = true;	psd.exportDocument(new File(pathAndName), ExportType.SAVEFORWEB, pngOptions);}main();